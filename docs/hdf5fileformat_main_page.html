<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SuperPhot: Format for HDF5 Photometry and PSF Fitting Files</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SuperPhot
   &#160;<span id="projectnumber">unspecified</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('hdf5fileformat_main_page.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Format for HDF5 Photometry and <a class="el" href="namespacePSF.html">PSF</a> Fitting Files </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Describes the format of the HDF5 files produced by <a class="el" href="namespaceFitPSF.html">FitPSF</a> and <a class="el" href="namespaceSubPixPhot.html">SubPixPhot</a>.</p>
<p>Since the most common case for extending photometry files is to add more columns as postprocessing steps are performed and it is not necessary to add new datapoints non-extendable datasets are used, one for each output quantity specified by the user. All files will contain a <code>Sources</code> group under which all per-source information will be stored. In addition, <a class="el" href="namespaceFitPSF.html">FitPSF</a> output files with global <a class="el" href="namespacePSF.html">PSF</a> fit will contain an extra group called <code>PSFMap</code> which will contain the coefficients giving the spatial dependence of the <a class="el" href="namespacePSF.html">PSF</a> on image position. Finally, the <code>Sources</code> group will have as attributes all the configuration of how it was derived, in sufficient detail to exactly reproduce the result.</p>
<h2>The <code>Sources</code> group </h2>
<h2>Attributes:</h2>
<p>Most of these are controlled by command line options.</p>
<h3>Present for both <a class="el" href="namespaceFitPSF.html">FitPSF</a> and <a class="el" href="namespaceSubPixPhot.html">SubPixPhot</a>:</h3>
<table class="doxtable">
<tr>
<th>Attribute Name </th><th>Corresponding Command Line Option/Description  </th></tr>
<tr>
<td>Image </td><td>The filename of the input fits image. </td></tr>
<tr>
<td>SubPixMap </td><td>&ndash;subpix </td></tr>
<tr>
<td>PSFModel </td><td>&ndash;psf-model </td></tr>
<tr>
<td>Gain </td><td>&ndash;gain </td></tr>
<tr>
<td>BgAnnulus </td><td>&ndash;bg-annulus </td></tr>
<tr>
<td>InputColumns </td><td>&ndash;input-columns </td></tr>
<tr>
<td>FluxMagnitude </td><td>&ndash;flux-magnitude </td></tr>
<tr>
<td>IDFormat </td><td>&ndash;hat-ids </td></tr>
</table>
<h3><a class="el" href="namespaceSubPixPhot.html">SubPixPhot</a> only:</h3>
<table class="doxtable">
<tr>
<th>Attribute Name </th><th>Corresponding Command Line Option  </th></tr>
<tr>
<td>AsciiSDKPoly </td><td>&ndash;sdk-poly (elliptical Gaussian <a class="el" href="namespacePSF.html">PSF</a> models only) </td></tr>
<tr>
<td>ExtraError </td><td>&ndash;const-error </td></tr>
<tr>
<td>Apertures </td><td>&ndash;aperture </td></tr>
<tr>
<td>MaxExpCoef </td><td>&ndash;max-exp-coef </td></tr>
</table>
<h2>Datasets:</h2>
<p>Any dataset listed above can be enabled or disabled through the use of the <code>--output-columns</code> option of the tool producing the file.</p>
<h3>Always Available:</h3>
<table class="doxtable">
<tr>
<th>Dataset Name </th><th>Dataset Data Type </th><th>Output Column Name  </th></tr>
<tr>
<td>ID </td><td>&lt;string&gt; or &lt;H5T_STD_I16LE&gt;,&lt;H5T_STD_I32LE&gt; </td><td>id </td></tr>
<tr>
<td>x </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>x </td></tr>
<tr>
<td>y </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>y </td></tr>
<tr>
<td>Flux </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>flux </td></tr>
<tr>
<td>FluxErr </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>flux_err </td></tr>
<tr>
<td>Magnitude </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>mag </td></tr>
<tr>
<td>MagnitudeErr </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>mag_err </td></tr>
<tr>
<td>QualityFlag </td><td>&lt;H5T_C_S1&gt; </td><td>flag </td></tr>
<tr>
<td><a class="el" href="namespaceBackground.html">Background</a> </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>bg </td></tr>
<tr>
<td>BackgroundErr </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>bg_err </td></tr>
<tr>
<td>BackgroundNPix </td><td>Smallest little endian signed int that fits </td><td>nbgpix </td></tr>
</table>
<h3><a class="el" href="namespaceFitPSF.html">FitPSF</a> Only:</h3>
<table class="doxtable">
<tr>
<th>Dataset Name </th><th>Dataset Data Type </th><th>Output Column Name  </th></tr>
<tr>
<td>S (only SDK psf) </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>S </td></tr>
<tr>
<td>D (only SDK psf) </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>D </td></tr>
<tr>
<td>K (only SDK psf) </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>K </td></tr>
<tr>
<td>Amplitude </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>A or amp </td></tr>
<tr>
<td>SignalToNoise </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>sn </td></tr>
<tr>
<td>NFitPixels </td><td>&lt;H5T_STD_I16LE&gt; </td><td>npix </td></tr>
<tr>
<td>ReducedChi2 </td><td>&lt;H5T_IEEE_F32LE&gt; </td><td>chi2 </td></tr>
</table>
<h2>The <code>PSFMap</code> group </h2>
<h2>Attributes:</h2>
<table class="doxtable">
<tr>
<th>Attribute Name </th><th>Corresponding Command Line Option or Description  </th></tr>
<tr>
<td>PSFModel </td><td>&ndash;psf-model </td></tr>
<tr>
<td>SubPixMap </td><td>&ndash;subpix </td></tr>
<tr>
<td>FitOrder </td><td>&ndash;fit-order </td></tr>
<tr>
<td>MinS </td><td>&ndash;minS (elliptical Gaussians <a class="el" href="namespacePSF.html">PSF</a> models only) </td></tr>
<tr>
<td>MaxS </td><td>&ndash;maxS (elliptical Gaussians <a class="el" href="namespacePSF.html">PSF</a> models only) </td></tr>
<tr>
<td>GridXBoundaries </td><td>&ndash;grid (piecewise bicubic <a class="el" href="namespacePSF.html">PSF</a> models only) </td></tr>
<tr>
<td>GridYBoundaries </td><td>&ndash;grid (piecewise bicubic <a class="el" href="namespacePSF.html">PSF</a> models only) </td></tr>
<tr>
<td>FitTolerance </td><td>&ndash;fit-tolerance (elliptical Gaussians <a class="el" href="namespacePSF.html">PSF</a> models only) </td></tr>
<tr>
<td>MaxChi2 </td><td>&ndash;max-chi2 </td></tr>
<tr>
<td>BgExcessThreshold </td><td>&ndash;alpha </td></tr>
<tr>
<td>MaxSaturatedFraction </td><td>&ndash;max-sat-frac </td></tr>
<tr>
<td>MinPix </td><td>&ndash;min-pix </td></tr>
<tr>
<td>MaxPix </td><td>&ndash;max-pix </td></tr>
<tr>
<td>MaxSources </td><td>&ndash;max-sources </td></tr>
<tr>
<td>MinBgPix </td><td>&ndash;min-bg-pix </td></tr>
<tr>
<td>SourceAssignment </td><td>&ndash;source-assignment </td></tr>
<tr>
<td>InitialGuess </td><td>&ndash;initial-guess </td></tr>
<tr>
<td>MaxAperture </td><td>&ndash;max-aperture </td></tr>
<tr>
<td>InitialAmplitudeAperture </td><td>&ndash;initial-amplitude-aperture (piecewise bicubic <a class="el" href="namespacePSF.html">PSF</a> models only) </td></tr>
<tr>
<td>MaxAbsAmplitudeChange </td><td>&ndash;max-abs-amplitude-change (piecewise bicubic <a class="el" href="namespacePSF.html">PSF</a> models only) </td></tr>
<tr>
<td>MaxRelAmplitudeChange </td><td>&ndash;max-rel-amplitude-change (piecewise bicubic <a class="el" href="namespacePSF.html">PSF</a> models only) </td></tr>
<tr>
<td>XOffset </td><td>Offset of the source x value before evaluating the polynomial </td></tr>
<tr>
<td>YOffset </td><td>Offset of the source y value before evaluating the polynomial </td></tr>
<tr>
<td>XScale </td><td>Scaling of the source x value before evaluating the polynomial </td></tr>
<tr>
<td>YScale </td><td>Scaling of the source y value before evaluating the polynomial </td></tr>
</table>
<p>The <code>PSFMap</code> group contains only a single dataset (named Coefficients) with the datatype being an array of &lt;H5T_IEEE_F32LE&gt;. Each array contains the polynomial expansion coefficients of a single <a class="el" href="namespacePSF.html">PSF</a> parameter. Thus, the dataset length is 3 for elliptical Gaussian <a class="el" href="namespacePSF.html">PSF</a> models and 4 times the number of interior grid intersections for piecewise bicubic <a class="el" href="namespacePSF.html">PSF</a> models. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Dec 14 2017 00:23:04 for SuperPhot by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
