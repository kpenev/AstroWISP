<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>superphot package &mdash; SuperPhot Python Interface  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
      <link rel="stylesheet" type="text/css" href="../_static/unlimited_width.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="superphot.fake_image package" href="superphot.fake_image.html" />
    <link rel="prev" title="superphot" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SuperPhot Python Interface
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Unix Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html#windows-installation">Windows Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unit_tests.html">Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_interface/index.html">Python Interface Documentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Python Package Implementation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">superphot package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#class-inheritance-diagram">Class Inheritance Diagram</a></li>
<li class="toctree-l3"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="superphot.fake_image.html">superphot.fake_image package</a></li>
<li class="toctree-l4"><a class="reference internal" href="superphot.utils.html">superphot.utils package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="superphot.background.html">superphot.background module</a></li>
<li class="toctree-l4"><a class="reference internal" href="superphot.fit_star_shape.html">superphot.fit_star_shape module</a></li>
<li class="toctree-l4"><a class="reference internal" href="superphot.hat_masks.html">superphot.hat_masks module</a></li>
<li class="toctree-l4"><a class="reference internal" href="superphot.piecewise_bicubic_psf.html">superphot.piecewise_bicubic_psf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="superphot.piecewise_bicubic_psf_map.html">superphot.piecewise_bicubic_psf_map module</a></li>
<li class="toctree-l4"><a class="reference internal" href="superphot.psf_base.html">superphot.psf_base module</a></li>
<li class="toctree-l4"><a class="reference internal" href="superphot.subpixphot.html">superphot.subpixphot module</a></li>
<li class="toctree-l4"><a class="reference internal" href="superphot.superphot_io_tree.html">superphot.superphot_io_tree module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="doxygen/index.xhtml#http://">C/C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_unit_tests/modules.html">Unit Testing Code</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SuperPhot Python Interface</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">superphot</a></li>
      <li class="breadcrumb-item active">superphot package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_implementation/superphot.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-superphot">
<span id="superphot-package"></span><h1>superphot package<a class="headerlink" href="#module-superphot" title="Permalink to this heading"></a></h1>
<section id="class-inheritance-diagram">
<h2>Class Inheritance Diagram<a class="headerlink" href="#class-inheritance-diagram" title="Permalink to this heading"></a></h2>
<div class="graphviz"><img src="../_images/inheritance-ec4bc7552899c5142427c9855949666c8d0bacf2.png" alt="Inheritance diagram of BackgroundExtractor, FitStarShape, PiecewiseBicubicPSF, PiecewiseBicubicPSFMap, SubPixPhot, SuperPhotIOTree" usemap="#inheritance43dc39c194" class="inheritance graphviz" /></div>
<map id="inheritance43dc39c194" name="inheritance43dc39c194">
<area shape="rect" id="node5" href="superphot.psf_base.html#superphot.psf_base.PSFBase" target="_top" title="The base class for all supported PSFs." alt="" coords="81,80,276,107"/>
<area shape="rect" id="node2" href="superphot.background.html#superphot.background.BackgroundExtractor" target="_top" title="Measure the background level for each source in an image." alt="" coords="240,5,515,32"/>
<area shape="rect" id="node3" href="superphot.fit_star_shape.html#superphot.fit_star_shape.FitStarShape" target="_top" title="Fit for the PSF/PRF of stars and their flux." alt="" coords="539,5,783,32"/>
<area shape="rect" id="node4" href="superphot.piecewise_bicubic_psf.html#superphot.piecewise_bicubic_psf.PiecewiseBicubicPSF" target="_top" title="Implement the PSFBase methods for libary PSFs." alt="" coords="5,155,352,181"/>
<area shape="rect" id="node6" href="superphot.piecewise_bicubic_psf_map.html#superphot.piecewise_bicubic_psf_map.PiecewiseBicubicPSFMap" target="_top" title="Provide convenient python interface to shape fitting results." alt="" coords="808,5,1211,32"/>
<area shape="rect" id="node7" href="superphot.subpixphot.html#superphot.subpixphot.SubPixPhot" target="_top" title="Use sub&#45;pixel aware aperture photomotre to measure fluxes of sources." alt="" coords="1235,5,1453,32"/>
<area shape="rect" id="node8" href="superphot.superphot_io_tree.html#superphot.superphot_io_tree.SuperPhotIOTree" target="_top" title="Interface for extracting entries from an IO::H5IODataTree." alt="" coords="1477,5,1768,32"/>
</map><p>SuperPhot python interface.</p>
<dl class="py class">
<dt class="sig sig-object py" id="superphot.BackgroundExtractor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">superphot.</span></span><span class="sig-name descname"><span class="pre">BackgroundExtractor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inner_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outer_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_confidence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.68</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/background.html#BackgroundExtractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.BackgroundExtractor" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<div class="graphviz"><img src="../_images/inheritance-11fb4e577ede7bc1494019e63e80624cef00a017.png" alt="Inheritance diagram of superphot.BackgroundExtractor" usemap="#inheritance38b9cb4962" class="inheritance graphviz" /></div>
<map id="inheritance38b9cb4962" name="inheritance38b9cb4962">
<area shape="rect" id="node1" href="superphot.background.html#superphot.background.BackgroundExtractor" target="_top" title="Measure the background level for each source in an image." alt="" coords="5,5,281,32"/>
</map><p>Measure the background level for each source in an image.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.BackgroundExtractor.image">
<span class="sig-name descname"><span class="pre">image</span></span><a class="headerlink" href="#superphot.BackgroundExtractor.image" title="Permalink to this definition"></a></dt>
<dd><p>The image being processed.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.BackgroundExtractor.inner_radius">
<span class="sig-name descname"><span class="pre">inner_radius</span></span><a class="headerlink" href="#superphot.BackgroundExtractor.inner_radius" title="Permalink to this definition"></a></dt>
<dd><p>The size of the aperture aronud each source within
which pixels are excluded from background measurement.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.BackgroundExtractor.outer_radius">
<span class="sig-name descname"><span class="pre">outer_radius</span></span><a class="headerlink" href="#superphot.BackgroundExtractor.outer_radius" title="Permalink to this definition"></a></dt>
<dd><p>The outer rim of the aperture around each source within
which unrejected pixels are included in the background measurement.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.BackgroundExtractor.error_confidence">
<span class="sig-name descname"><span class="pre">error_confidence</span></span><a class="headerlink" href="#superphot.BackgroundExtractor.error_confidence" title="Permalink to this definition"></a></dt>
<dd><p>The confidence level to use for estimating the
background error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.BackgroundExtractor.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/background.html#BackgroundExtractor.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.BackgroundExtractor.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Measure the background under the sources with the given coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source_x</strong> – The <cite>x</cite> coordinates of the sources within the image.</p></li>
<li><p><strong>source_y</strong> – The <cite>y</cite> coordinates of the sources within the image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>numpy.array:</dt><dd><p>The estimate of the background under each source in the same
order as the input sources.</p>
</dd>
<dt>numpy.array:</dt><dd><p>The estimate of the uncertainty in the background under each
source in the same order as the input sources.</p>
</dd>
<dt>numpy.array:</dt><dd><p>The number of pixels which were used to derive the
background and its uncertainty.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.BackgroundExtractor.__del__">
<span class="sig-name descname"><span class="pre">__del__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/background.html#BackgroundExtractor.__del__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.BackgroundExtractor.__del__" title="Permalink to this definition"></a></dt>
<dd><p>Destroy the image and extractor created in <a class="reference internal" href="#superphot.BackgroundExtractor.__init__" title="superphot.BackgroundExtractor.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.BackgroundExtractor.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inner_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outer_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_confidence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.68</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/background.html#BackgroundExtractor.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.BackgroundExtractor.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Create a background extractor with the given parameters.</p>
<p>Args: see class attributes.</p>
<p>Returns: None</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="superphot.FitStarShape">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">superphot.</span></span><span class="sig-name descname"><span class="pre">FitStarShape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_aperture</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_configuration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/fit_star_shape.html#FitStarShape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.FitStarShape" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<div class="graphviz"><img src="../_images/inheritance-50877b62d036b8ed9394cbb3c56ca435b0b37ee0.png" alt="Inheritance diagram of superphot.FitStarShape" usemap="#inheritance045ece0252" class="inheritance graphviz" /></div>
<map id="inheritance045ece0252" name="inheritance045ece0252">
<area shape="rect" id="node1" href="superphot.fit_star_shape.html#superphot.fit_star_shape.FitStarShape" target="_top" title="Fit for the PSF/PRF of stars and their flux." alt="" coords="5,5,250,32"/>
</map><p>Fit for the PSF/PRF of stars and their flux.</p>
<p>The PSF and PRF describe the distribution of light from a point source at
infinity on the imaging device pixels.</p>
<blockquote>
<div><ul class="simple">
<li><p>PSF is the distribution of light produced by the optical system in the
plane of the detector for a point source at infinity.</p></li>
<li><p>PRF is the response of a detector pixel at some offset from the
center of the source. That is, the PRF is the PSF convolved with
the sensitivity of detector pixels.</p></li>
</ul>
</div></blockquote>
<p>Both representations use a general piece-wise polynomial model in which the
area around the source location is split into a rectangular, but in general
irregular, grid of cells. Over each cell the PSF/PRF is modeled as a
bi-cubic polynomial. The resulting function is constraned to have continuous
values, first order derivatives and x-y cross-derivative across cell
boundaries. Further, it’s value, first derivative and the x-y cross
derivative are contsrainted to go to zero on the outside boundaries of the
grid.</p>
<span class="target" id="attributes"></span><dl class="py attribute">
<dt class="sig sig-object py" id="superphot.FitStarShape._library_psf_fitter">
<span class="sig-name descname"><span class="pre">_library_psf_fitter</span></span><a class="headerlink" href="#superphot.FitStarShape._library_psf_fitter" title="Permalink to this definition"></a></dt>
<dd><p>The library object for carrying out PSF/PRF
fitting.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.FitStarShape._library_configuration">
<span class="sig-name descname"><span class="pre">_library_configuration</span></span><a class="headerlink" href="#superphot.FitStarShape._library_configuration" title="Permalink to this definition"></a></dt>
<dd><p>Library configuration object set per the
current <a class="reference internal" href="#superphot.FitStarShape.configuration" title="superphot.FitStarShape.configuration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">configuration</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.FitStarShape._result_tree">
<span class="sig-name descname"><span class="pre">_result_tree</span></span><a class="headerlink" href="#superphot.FitStarShape._result_tree" title="Permalink to this definition"></a></dt>
<dd><p>The SuperPhotIOTree instance containing the last
fittintg results, on None, if no fitting has been performed yet.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.FitStarShape.mode">
<span class="sig-name descname"><span class="pre">mode</span></span><a class="headerlink" href="#superphot.FitStarShape.mode" title="Permalink to this definition"></a></dt>
<dd><p>Are we doing ‘PSF’ or ‘PRF’ fitting (case
insensitive).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.FitStarShape.configuration">
<span class="sig-name descname"><span class="pre">configuration</span></span><a class="headerlink" href="#superphot.FitStarShape.configuration" title="Permalink to this definition"></a></dt>
<dd><p>The configuraiton for how to carry out PSF/PRF
fitting. The following keys are used (others are ignored by this
class):</p>
<dl class="simple">
<dt>mode (str):</dt><dd><p>What kind of fitting to do ‘PSF’ or ‘PRF’ (case insensitive).</p>
</dd>
<dt>grid (list of floats):</dt><dd><p>A comma separated list of grid boundaries.  Can either be a
single list, in which case it is used for both the horizontal
and vertical boundaries. If different splitting is desired in
the two directions, two lists should be supplied separated by
<code class="docutils literal notranslate"><span class="pre">;</span></code>. The first list should contain the vertical (x) boundaries
and the second list gives the horizontal (y) ones. Sometimes it
is desirable to treat the PSF as a uniform distribution of light
over pixels. This is accomplished by setting a grid with just
outer boundaries (e.g. <code class="docutils literal notranslate"><span class="pre">-5,5</span></code>) which automatically makes the
PSF equal to zero everywhere, leaving only the background (i.e.
flat light distribution). If such a grid is set, this also
changes how stars excluded from shape fitting are treated.
Normally, the fluxes of these stars are fit after the shape is
determined using the “good” stars, but if zero PSF model is
used, any sources excluded from the shape fit through the other
configurations have their flux set to NaN to exclude them from
further processing. If you want to keep all sources with zero
PSF model, then make sure none are excluded from shape fitting.</p>
</dd>
<dt>initial_aperture (float):</dt><dd><p>This aperture is used to derive an initial guess for the
amplitudes of sources when fitting for a piecewise bicubic PSF
model by doing aperture photometry assuming a perfectly flat
PSF.</p>
</dd>
<dt>subpixmap (2D numpy array):</dt><dd><p>The sub-pixel map, for PSF fitting only.</p>
</dd>
<dt>smoothing (float):</dt><dd><p>How much smoothing penalty to impose when fitting the PSF.
<code class="docutils literal notranslate"><span class="pre">None</span></code> for no smoothing. Value can be both positive and
negative and will always result in smoothing (less for negative
values).</p>
</dd>
<dt>max_chi2 (float):</dt><dd><p>The value of the reduced chi squared above which sources are
excluded from the fit. This can indicate non-point sources or
sources for which the location is wrong among ohter things.</p>
</dd>
<dt>pixel_rejection_threshold (float):</dt><dd><p>A number defining individual pixels to exclude from the PSF fit.
Pixels with fitting residuals (normalized by the standard
deviation) bigger than this value are excluded. If zero, no
pixels are rejected.</p>
</dd>
<dt>max_abs_amplitude_change (float):</dt><dd><p>The absolute root of sum squares tolerance of the source
amplitude changes in order to declare the piecewise bicubic PSF
fitting converged.</p>
</dd>
<dt>max_rel_amplitude_change (float):</dt><dd><p>The relative root of sum squares tolerance of the source
amplitude changes in order to declare the piecewise bicubic PSF
fitting converged.</p>
</dd>
<dt>min_convergence_rate (float):</dt><dd><p>If the rate of convergence falls below this threshold,
iterations are stopped. The rate is calculated as the fractional
decrease in the difference between the amplitude change and the
value when it would stop, as determined by the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">max_abs_amplitude_change</span></code> and
<code class="xref py py-attr docutils literal notranslate"><span class="pre">max_rel_amplitude_change</span></code> attributes.</p>
</dd>
<dt>max_iterations (int):</dt><dd><p>No more than this number if iterations will be performed. If
convergence is not achieved before then, the latest estimates
are output and an exception is thrown. A negative value allows
infinite iterations. A value of zero, along with an initial
guess for the PSF causes only the amplitudes to be fit for PSF
fitting photometry with a known PSF. It is an error to pass a
value of zero for this option and not specify and initial guess
for the PSF.</p>
</dd>
<dt>gain (float):</dt><dd><p>The gain in electrons per ADU to assume for the input images.</p>
</dd>
<dt>cover_grid (bool):</dt><dd><p>If this option is true, all pixels that at least partially
overlap with the grid are assigned to the corresponding source.
This option is ignored for sdk PSF models.</p>
</dd>
<dt>src_min_signal_to_noise (float):</dt><dd><p>How far above the background (in units of RMS) should pixels be
to still be considered part of a source. Ignored if the
piecewise bibucic PSF grid is used to select source pixels
(cover-bicubic-grid option).</p>
</dd>
<dt>src_max_aperture (float):</dt><dd><p>If this option has a positive value, pixels are assigned to
sources in circular apertures (the smallest such that all pixels
that pass the signal to noise cut are still assigned to the
source). If an aperture larger than this value is required, an
exception is thrown.</p>
</dd>
<dt>src_max_sat_frac (float):</dt><dd><p>If more than this fraction of the pixels assigned to a source
are saturated, the source is excluded from the fit.</p>
</dd>
<dt>src_min_pix (int):</dt><dd><p>The minimum number of pixels that must be assigned to a source
in order to include the source is the PSF fit.</p>
</dd>
<dt>src_max_pix (int):</dt><dd><p>The maximum number of pixels that car be assigned to a source
before excluding the source from the PSF fit.</p>
</dd>
<dt>src_max_count (int):</dt><dd><p>The maximum number of sources to include in the fit for the PSF
shape. The rest of the sources get their amplitudes fit and are
used to determine the overlaps. Sources are ranked according to
the sum of (background excess)^2/(pixel variance+background
variance) of their individual non-saturated pixels.</p>
</dd>
<dt>bg_min_pix (int):</dt><dd><p>The minimum number of pixels a background estimate must be based
on in order to include the source in shape fitting.</p>
</dd>
<dt>magnitude_1adu (float):</dt><dd><p>The magnitude that corresponds to a flux of 1ADU.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)">dict</a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Example</p>
<p>Create and configure a PRF fitting object, allowing up to third order
dependence on image position, on a grid which splits the area around the
source in 16 squares of 2pix by 2pix size each and using an aperture
with 5 pixel radius for the initial estimate of source amplitudes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">superphot</span> <span class="kn">import</span> <span class="n">FitStarShape</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fitprf</span> <span class="o">=</span> <span class="n">FitStarShape</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;prf&#39;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>                      <span class="n">grid</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">4.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span>
<span class="gp">&gt;&gt;&gt; </span>                      <span class="n">initial_aperture</span><span class="o">=</span><span class="mf">5.0</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="superphot.FitStarShape.__del__">
<span class="sig-name descname"><span class="pre">__del__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/fit_star_shape.html#FitStarShape.__del__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.FitStarShape.__del__" title="Permalink to this definition"></a></dt>
<dd><p>Destroy the configuration object created in <a class="reference internal" href="#superphot.FitStarShape.__init__" title="superphot.FitStarShape.__init__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.FitStarShape.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_aperture</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">other_configuration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/fit_star_shape.html#FitStarShape.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.FitStarShape.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Set-up an object ready to perform PSF/PRF fitting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>by</strong> (<em>All the configuration attributes of the class can be configured</em>) – </p></li>
<li><p><strong>arguments.</strong> (<em>passing them as keyword</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.FitStarShape._format_config">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_format_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/fit_star_shape.html#FitStarShape._format_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.FitStarShape._format_config" title="Permalink to this definition"></a></dt>
<dd><p>Format config param for passing to SuperPhot PSF fitting lib.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.FitStarShape.configure">
<span class="sig-name descname"><span class="pre">configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">configuration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/fit_star_shape.html#FitStarShape.configure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.FitStarShape.configure" title="Permalink to this definition"></a></dt>
<dd><p>Modify the currently defined configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**configuration</strong> – See <a class="reference internal" href="#superphot.FitStarShape.configuration" title="superphot.FitStarShape.configuration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">configuration</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.FitStarShape.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_sources</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backgrounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">require_convergence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/fit_star_shape.html#FitStarShape.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.FitStarShape.fit" title="Permalink to this definition"></a></dt>
<dd><p>Fit for the shape of the sources in a collection of imeges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image_sources</strong> (<em>[</em><em>5-tuples</em><em>]</em>) – <p>Each entry consists of:</p>
<ol class="arabic" start="0">
<li><p>The pixel values of the calibratred image</p></li>
<li><p>The error estimates of the pixel values</p></li>
<li><p>Mask flags of the pixel values.</p></li>
<li><p>Sources to process, defining at least the following
quantities in a dictionary:</p>
<blockquote>
<div><ul>
<li><p><strong>ID</strong> (string): some unique identifier for the source</p></li>
<li><p><strong>x</strong> (float): The x coordinate of the source
center in pixels</p></li>
<li><p><strong>y</strong> (float): See <code class="docutils literal notranslate"><span class="pre">x</span></code></p></li>
</ul>
</div></blockquote>
<p>May also define <strong>enabled</strong> to flag only some sources for
inclusion in the shape fit.</p>
<p>The source list can be either a numyy record array with field
names as keys or a dictionary with field names as keys and
1-D numpy arrays of identical lengths as values.</p>
</li>
<li><p>List of the terms on which PSF parameters are allowed to
depend on.</p></li>
</ol>
</p></li>
<li><p><strong>backgrounds</strong> (<em>[</em><a class="reference internal" href="#superphot.BackgroundExtractor" title="superphot.BackgroundExtractor"><em>BackgroundExtractor</em></a><em>]</em>) – The measured backgrounds
under the sources.</p></li>
<li><p><strong>require_convergence</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><em>bool</em></a>) – If set to <cite>False</cite>, even non-converged
fits are saved. If <cite>True</cite>, an exception is raised.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A SubPixPhot IO tree containing all the newly derived results.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="superphot.superphot_io_tree.html#superphot.superphot_io_tree.SuperPhotIOTree" title="superphot.superphot_io_tree.SuperPhotIOTree">SuperPhotIOTree</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">superphot.</span></span><span class="sig-name descname"><span class="pre">PiecewiseBicubicPSF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library_psf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf.html#PiecewiseBicubicPSF"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSF" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="superphot.psf_base.html#superphot.psf_base.PSFBase" title="superphot.psf_base.PSFBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">PSFBase</span></code></a></p>
<div class="graphviz"><img src="../_images/inheritance-e8a16f8161be73e7767f17d9c6b18134ad9a0528.png" alt="Inheritance diagram of superphot.PiecewiseBicubicPSF" usemap="#inheritanceb22f542ace" class="inheritance graphviz" /></div>
<map id="inheritanceb22f542ace" name="inheritanceb22f542ace">
<area shape="rect" id="node3" href="superphot.psf_base.html#superphot.psf_base.PSFBase" target="_top" title="The base class for all supported PSFs." alt="" coords="81,80,276,107"/>
<area shape="rect" id="node2" href="superphot.piecewise_bicubic_psf.html#superphot.piecewise_bicubic_psf.PiecewiseBicubicPSF" target="_top" title="Implement the PSFBase methods for libary PSFs." alt="" coords="5,155,352,181"/>
</map><p>Implement the PSFBase methods for libary PSFs.</p>
<dl class="py method">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSF.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf.html#PiecewiseBicubicPSF.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSF.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Return the value(s) of the PSF at the given point(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>numpy array</em>) – The horizontal offset(s) from center of
the point at which to return the PSF value.</p></li>
<li><p><strong>y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>numpy array</em>) – The vertical offset(s) from center of
the point at which to return the PSF value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value(s) of the PSF at (x, y) relative to the source center.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSF.__del__">
<span class="sig-name descname"><span class="pre">__del__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf.html#PiecewiseBicubicPSF.__del__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSF.__del__" title="Permalink to this definition"></a></dt>
<dd><p>Delete the underlying library PSF.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSF.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library_psf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf.html#PiecewiseBicubicPSF.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSF.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Wrap the given library PSF in a convenient python interface.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSF.get_down_range">
<span class="sig-name descname"><span class="pre">get_down_range</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf.html#PiecewiseBicubicPSF.get_down_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSF.get_down_range" title="Permalink to this definition"></a></dt>
<dd><p>Return how far the PSF extends downward of center.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSF.get_left_range">
<span class="sig-name descname"><span class="pre">get_left_range</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf.html#PiecewiseBicubicPSF.get_left_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSF.get_left_range" title="Permalink to this definition"></a></dt>
<dd><p>Return how far the PSF extends to the left of center.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSF.get_right_range">
<span class="sig-name descname"><span class="pre">get_right_range</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf.html#PiecewiseBicubicPSF.get_right_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSF.get_right_range" title="Permalink to this definition"></a></dt>
<dd><p>Return how far the PSF extends to the right of center.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSF.get_up_range">
<span class="sig-name descname"><span class="pre">get_up_range</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf.html#PiecewiseBicubicPSF.get_up_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSF.get_up_range" title="Permalink to this definition"></a></dt>
<dd><p>Return how far the PSF extends upward of center.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSF.integrate">
<span class="sig-name descname"><span class="pre">integrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circle_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf.html#PiecewiseBicubicPSF.integrate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSF.integrate" title="Permalink to this definition"></a></dt>
<dd><p>Return integrals of the PSF over circle-rectangle overlaps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>center_x</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>array</em>) – The x coordinate(s) of the center(s) of
the rectangle(s) to integrate over.</p></li>
<li><p><strong>center_y</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>array</em>) – The y coordinate(s) of the center(s) of
the rectangle(s) to integrate over.</p></li>
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>array</em>) – The width(s) of the rectangle(s).</p></li>
<li><p><strong>height</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>array</em>) – The height(s) of the rectangle(s).</p></li>
<li><p><strong>circle_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a><em> or </em><em>array</em>) – The rad(ii/us) of the circle(s).
For zero entries or None, the integral is over the full
rectangle(s).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The integral of the PSF over the specified area(s).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)">float</a> or array</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSFMap">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">superphot.</span></span><span class="sig-name descname"><span class="pre">PiecewiseBicubicPSFMap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star_shape_map_tree</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf_map.html#PiecewiseBicubicPSFMap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSFMap" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<div class="graphviz"><img src="../_images/inheritance-0872b76f20d69adbd67d2b839d362646e4c82461.png" alt="Inheritance diagram of superphot.PiecewiseBicubicPSFMap" usemap="#inheritance998bbe4d18" class="inheritance graphviz" /></div>
<map id="inheritance998bbe4d18" name="inheritance998bbe4d18">
<area shape="rect" id="node1" href="superphot.piecewise_bicubic_psf_map.html#superphot.piecewise_bicubic_psf_map.PiecewiseBicubicPSFMap" target="_top" title="Provide convenient python interface to shape fitting results." alt="" coords="5,5,409,32"/>
</map><p>Provide convenient python interface to shape fitting results.</p>
<dl class="py method">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSFMap.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">term_values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf_map.html#PiecewiseBicubicPSFMap.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSFMap.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate the map for a given set of terms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>term_values</strong> – The terms that PSF parameters depend on evaluated
for the particular source we wish to know the PSF of.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The PSF/PRF the map predicts for the given arguments.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>PSF</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSFMap.__del__">
<span class="sig-name descname"><span class="pre">__del__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf_map.html#PiecewiseBicubicPSFMap.__del__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSFMap.__del__" title="Permalink to this definition"></a></dt>
<dd><p>Delete any objects allocated by the library.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.PiecewiseBicubicPSFMap.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">star_shape_map_tree</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/piecewise_bicubic_psf_map.html#PiecewiseBicubicPSFMap.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.PiecewiseBicubicPSFMap.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Prepare to query the map generated by a star shape fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>star_shape_map_tree</strong> (<a class="reference internal" href="superphot.superphot_io_tree.html#superphot.superphot_io_tree.SuperPhotIOTree" title="superphot.superphot_io_tree.SuperPhotIOTree"><em>SuperPhotIOTree</em></a>) – The result returned by
calling FitStarShape.fit().</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="superphot.SubPixPhot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">superphot.</span></span><span class="sig-name descname"><span class="pre">SubPixPhot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">configuration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/subpixphot.html#SubPixPhot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.SubPixPhot" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<div class="graphviz"><img src="../_images/inheritance-c0b1a103aee143d3c9308bbffdb3ba2b42093f16.png" alt="Inheritance diagram of superphot.SubPixPhot" usemap="#inheritancef91020ed5b" class="inheritance graphviz" /></div>
<map id="inheritancef91020ed5b" name="inheritancef91020ed5b">
<area shape="rect" id="node1" href="superphot.subpixphot.html#superphot.subpixphot.SubPixPhot" target="_top" title="Use sub&#45;pixel aware aperture photomotre to measure fluxes of sources." alt="" coords="5,5,224,32"/>
</map><p>Use sub-pixel aware aperture photomotre to measure fluxes of sources.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.SubPixPhot._library_configuration">
<span class="sig-name descname"><span class="pre">_library_configuration</span></span><a class="headerlink" href="#superphot.SubPixPhot._library_configuration" title="Permalink to this definition"></a></dt>
<dd><p>The library
configuration object to use the next aperture photometry
measurement.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>_c_subpixphot_configuration</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.SubPixPhot._result_tree">
<span class="sig-name descname"><span class="pre">_result_tree</span></span><a class="headerlink" href="#superphot.SubPixPhot._result_tree" title="Permalink to this definition"></a></dt>
<dd><p>The SuperPhotIOTree instance
containing PSF fitting and aperture photometry information from the
last aperture photomtry measurement, or None if no photometry has
been done yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>_c_h5io_data_tree_p</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.SubPixPhot._library_subpix_map">
<span class="sig-name descname"><span class="pre">_library_subpix_map</span></span><a class="headerlink" href="#superphot.SubPixPhot._library_subpix_map" title="Permalink to this definition"></a></dt>
<dd><p>The library object
representing the currently set sub-pixel map.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>_c_core_sub_pixel_map_p</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.SubPixPhot.configuration">
<span class="sig-name descname"><span class="pre">configuration</span></span><a class="headerlink" href="#superphot.SubPixPhot.configuration" title="Permalink to this definition"></a></dt>
<dd><p>The congfiguration for how to perform the
next aperture photometry. The following keys are used (others are
ignored by this class).</p>
<dl class="simple">
<dt>subpixmap (2D numpy array):</dt><dd><p>The sub-pixel map to assume.</p>
</dd>
<dt>apertures ([float, …]):</dt><dd><p>A list of the apertures to use.</p>
</dd>
<dt>gain (float):</dt><dd><p>The gain to assume for the input image.</p>
</dd>
<dt>magnitude_1adu (float):</dt><dd><p>The magnitude that corresponds to a flux of 1ADU.</p>
</dd>
<dt>const_error (float):</dt><dd><p>A constant that gets added to all error estimates.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="superphot.SubPixPhot.image">
<span class="sig-name descname"><span class="pre">image</span></span><a class="headerlink" href="#superphot.SubPixPhot.image" title="Permalink to this definition"></a></dt>
<dd><p>The last image for which aperture photometry was
extracted. Contains the following entries:</p>
<blockquote>
<div><dl class="simple">
<dt>values:</dt><dd><p>The calibrated pixel values.</p>
</dd>
<dt>errors:</dt><dd><p>Error estimates for the entries in values.</p>
</dd>
<dt>mask:</dt><dd><p>Bitmask flags indicating any known problems with image
pixels.</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.12)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.SubPixPhot.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitpsf_io_tree</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/subpixphot.html#SubPixPhot.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.SubPixPhot.__call__" title="Permalink to this definition"></a></dt>
<dd><p>Measure the fluxes of all sources in an image using aperture photometry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> (<em>2-D numpy.array</em><em>, </em><em>2-D numpy.array</em><em>, </em><em>2-D numpy.array</em>) – <p>entries:</p>
<ol class="arabic simple">
<li><p>The calibrated values of the pixels in the image.</p></li>
<li><p>Error estimates of the pixel values</p></li>
<li><p>Bitmask flagging any known issues with image pixels (e.g.
saturation, hot pixels, etc.).</p></li>
</ol>
</p></li>
<li><p><strong>fitsf_io_tree</strong> (<a class="reference internal" href="superphot.superphot_io_tree.html#superphot.superphot_io_tree.SuperPhotIOTree" title="superphot.superphot_io_tree.SuperPhotIOTree"><em>SuperPhotIOTree</em></a>) – The result tree returned by
fit_star_shape.fit(). On output, this variable also contains the
newly derived aperture photometry measurements.</p></li>
<li><p><strong>image_index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The image index within the result tree
corresponding to the input image. This is the index of the image
within the list of images passed to <a class="reference internal" href="superphot.fit_star_shape.html#module-superphot.fit_star_shape" title="superphot.fit_star_shape"><code class="xref py py-class docutils literal notranslate"><span class="pre">fit_star_shape</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. However, the <code class="docutils literal notranslate"><span class="pre">fitpsf_io_tree</span></code> argument is updated to
include the newly measured fluxes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.SubPixPhot.__del__">
<span class="sig-name descname"><span class="pre">__del__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/subpixphot.html#SubPixPhot.__del__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.SubPixPhot.__del__" title="Permalink to this definition"></a></dt>
<dd><p>Destroy any library objects created by this object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.SubPixPhot.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">configuration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/subpixphot.html#SubPixPhot.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.SubPixPhot.__init__" title="Permalink to this definition"></a></dt>
<dd><p>Prepare an object for measuring fluxes using aperture photometry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**configuration</strong> – See <a class="reference internal" href="#superphot.SubPixPhot.configuration" title="superphot.SubPixPhot.configuration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">configuration</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.SubPixPhot._format_config">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">_format_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/subpixphot.html#SubPixPhot._format_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.SubPixPhot._format_config" title="Permalink to this definition"></a></dt>
<dd><p>Format config param for passing to SuperPhot aperture photometry func.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>param_value</strong> (<em>pair of values</em>) – One of the recognized keys from
<a class="reference internal" href="#superphot.SubPixPhot.configuration" title="superphot.SubPixPhot.configuration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">configuration</span></code></a> and the value it should be set to.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>The name of the option corresponding to the configuration
parameter being set.</p></li>
<li><p>an ascii string representing the value
in the format expected by the configuration file parser of the
subpixphot tool.</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>(<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.12)">bytes</a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.12)">bytes</a>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="superphot.SubPixPhot.configure">
<span class="sig-name descname"><span class="pre">configure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">configuration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/superphot/subpixphot.html#SubPixPhot.configure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#superphot.SubPixPhot.configure" title="Permalink to this definition"></a></dt>
<dd><p>Modify the currently defined configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**configuration</strong> – See <a class="reference internal" href="#superphot.SubPixPhot.configuration" title="superphot.SubPixPhot.configuration"><code class="xref py py-attr docutils literal notranslate"><span class="pre">configuration</span></code></a>.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="superphot.fake_image.html">superphot.fake_image package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="superphot.fake_image.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="superphot.fake_image.bipolynomial_psf_piece.html">superphot.fake_image.bipolynomial_psf_piece module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="superphot.fake_image.bipolynomial_psf_piece.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="superphot.fake_image.image.html">superphot.fake_image.image module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="superphot.fake_image.image.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="superphot.fake_image.piecewise_bicubic_psf.html">superphot.fake_image.piecewise_bicubic_psf module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="superphot.fake_image.piecewise_bicubic_psf.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="superphot.fake_image.piecewise_psf.html">superphot.fake_image.piecewise_psf module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="superphot.fake_image.piecewise_psf.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="superphot.fake_image.psf_piece.html">superphot.fake_image.psf_piece module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="superphot.fake_image.psf_piece.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="superphot.utils.html">superphot.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="superphot.utils.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="superphot.utils.explore_prf.html">superphot.utils.explore_prf module</a></li>
<li class="toctree-l3"><a class="reference internal" href="superphot.utils.file_utilities.html">superphot.utils.file_utilities module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="superphot.background.html">superphot.background module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="superphot.background.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="superphot.fit_star_shape.html">superphot.fit_star_shape module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="superphot.fit_star_shape.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="superphot.hat_masks.html">superphot.hat_masks module</a></li>
<li class="toctree-l1"><a class="reference internal" href="superphot.piecewise_bicubic_psf.html">superphot.piecewise_bicubic_psf module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="superphot.piecewise_bicubic_psf.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="superphot.piecewise_bicubic_psf_map.html">superphot.piecewise_bicubic_psf_map module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="superphot.piecewise_bicubic_psf_map.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="superphot.psf_base.html">superphot.psf_base module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="superphot.psf_base.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="superphot.subpixphot.html">superphot.subpixphot module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="superphot.subpixphot.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="superphot.superphot_io_tree.html">superphot.superphot_io_tree module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="superphot.superphot_io_tree.html#class-inheritance-diagram">Class Inheritance Diagram</a></li>
</ul>
</li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="superphot" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="superphot.fake_image.html" class="btn btn-neutral float-right" title="superphot.fake_image package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, Kaloyan Penev.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>